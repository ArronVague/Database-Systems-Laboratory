# 图书馆管理系统

## 业务流程

### 系统登陆（该模块详情在详细设计分支）

#### 读者

##### 查看图书信息

- 所需字段（以下皆为图书基本信息表）
  - ISBN
  - 出版社（编号替换）
  - 书名
  - 类型
  - 作者
  - 版次
  - 出版日期
  - 价格
  - 简介
  - 现在库数量
  - 库存总量
- 界面
  - listview 展示所有

##### 修改读者信息

- 所需字段（以下皆为读者信息表）
  - 读者编号（不可修改）
  - 读者类别（不可修改）
  - 姓名
  - 密码（但不显示）
  - 联系电话
  - 登记日期
  - 有效期至
  - 现借图书数
  - 累计借书数
- 界面
  - 展示所有个人信息，与管理员的读者信息管理界面不同
- 功能
  - 原地修改

#### 管理员

##### 读者管理 [Almost done]

###### 读者类别管理 [Completed]

- 所需字段（以下皆为读者类别表）
  - 读者类别名称
  - 可借册数
  - 可借天数
- 界面
  - listview 展示所有
- 功能
  - 添加
  - 原地修改
  - 删除

###### 读者信息管理 [Almost done]

- 所需字段（以下皆为读者信息表）
  - 读者编号
  - 读者类别
  - 姓名
  - 密码（但不显示）
  - 联系电话
  - 登记日期
  - 有效期至
  - 现借图书数
  - 累计借书数
- 界面
  - listview 展示所有
- 功能
  - 添加
  - 原地修改
  - 删除
- 补充说明
  - 虽然读者编号是主键，但是是自己输入的，并且登录时使用的是读者编号和密码，因此需要查重

###### 说明

- 界面包含读者类别管理按钮和读者信息管理按钮
- 还需要一个返回按钮
- 需要将编号传给下一级界面，以便获取个人信息

##### 图书管理

###### 出版社信息管理 [Completed]

- 所需字段（以下皆为出版社信息表）
  - 出版社名称
  - 联系人
  - 联系电话
  - 传真
  - 地址（长度需要修改为 255）
- 界面
  - listview 展示所有
- 功能
  - 添加
  - 原地修改
  - 删除

###### 图书基本信息管理 [Almost done]

- 所需字段（以下皆为图书基本信息表）
  - ISBN
  - 出版社（编号替换）
  - 书名
  - 类型
  - 作者
  - 版次
  - 出版日期
  - 价格
  - 简介
  - 现在库数量
  - 库存总量
- 界面
  - listview 展示所有
- 功能
  - 添加
  - 原地修改
  - 删除
- 说明
  - 使用触发器实现库存总量和现在库数量的自动更新
- 补充说明
  - 虽然 ISBN 是主键，但是是自己输入的，因此需要查重

###### 馆藏图书信息管理

- 所需字段（以下皆为图书馆藏信息表，文档的这个表名称错误）
  - 图书编号
  - ISBN
  - 入库时间
  - 图书状态
- 界面
  - listview 展示所有
- 功能
  - 添加
  - 原地修改
  - 删除

###### 说明

- 界面包含出版社信息管理按钮、图书基本信息管理按钮和馆藏图书信息管理按钮
- 还需要一个返回按钮
- 需要将编号传给下一级界面，以便获取个人信息

##### 业务管理

###### 图书借阅/归还管理

- 所需字段（以下皆为图书借阅记录表）
  - 图书编号
  - 读者编号（显示姓名）
  - 借阅管理员工号（显示姓名？）
  - 归还管理员工号（显示姓名？）
  - 借阅时间
  - 应还时间
  - 续借次数
  - 归还时间
  - 是否超期
  - 是否丢失
- 界面
  - listview 展示所有
- 功能
  - 添加
  - 原地修改
  - 删除

###### 图书罚款管理

- 所需字段（以下皆为超期罚款表）
  - 罚款编号
  - 借阅记录编号
  - 管理员工号（显示姓名？）
  - 罚款金额
  - 是否交款
  - 罚款日期
  - 备注
- 界面
  - listview 展示所有
- 功能
  - 添加
  - 原地修改
  - 删除

###### 说明

- 界面包含图书借阅/归还管理按钮和图书罚款管理按钮
- 还需要一个返回按钮
- 需要将编号传给下一级界面，以便获取个人信息

##### 说明

- 界面包含读者管理按钮、图书管理按钮和业务管理按钮
- 还需要一个返回按钮
- 需要将编号传给下一级界面，以便获取个人信息

## 说明

- 一般地，叶子节点将作为完整模块，中间节点管理叶子节点
- 特殊地，系统登陆也是完整模块

## 详细设计

### 系统登陆

#### 所需字段（读者登陆与管理员登录所需不同）

- 编号
- 密码（之前的文档没有这个字段）
- 类别

#### 说明

- 读者类别使用下拉框，从读者类别表获取信息
- 读者三种类别不做区分，管理员单独一种，不算进读者类别，也就是说，下拉框需要固定有管理员类别
- 登录成功后需要将编号传递给下一个界面，以便获取个人信息
