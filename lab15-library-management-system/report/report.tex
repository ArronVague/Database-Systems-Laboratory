\documentclass{article}
\usepackage{booktabs}
\usepackage[UTF8]{ctex}
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage{float}
\usepackage{subfigure}
\usepackage{amsmath,amsfonts}
\usepackage{hyperref}


\begin{document}
\sloppy % 解决中英文混排的断行问题

\title{《图书馆管理系统》实验报告}
\author{郑泓东 21311570}
\date{\today}

\maketitle

\section{登录界面}

\subsection{输入错误用户名或者密码，能够提示相关错误}
图\ref{fig:login_fail}为输入错误用户名或者密码后的界面。

% 图片
\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/login_fail.png}
    \caption{Login Fail}
    \label{fig:login_fail}
\end{figure}

\subsection{输入正确用户名和密码，能够登录}
用户输入正确用户名和密码后，无需提示，直接进入系统主界面（图\ref{fig:admin_main}）。

\section{系统主界面}
提供各个功能模块的访问链接/按钮（图\ref{fig:admin_main}）。

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/admin_main.png}
    \caption{Administator Main}
    \label{fig:admin_main}
\end{figure}


\section{读者信息管理}

\subsection{打开窗体时，能够加载读者信息、能够加载读者类别信息}
图\ref{fig:reader_info_mag}为读者信息管理界面，能够加载读者信息、能够加载读者类别信息。

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/reader_info_mag.png}
    \caption{Reader Info Management}
    \label{fig:reader_info_mag}
\end{figure}

\subsection{能够添加读者信息，添加后能够在窗体中实时更新}
测试添加读者信息功能，添加后能够在窗体中实时更新（图\ref{fig:add}到图\ref{fig:add_suc}）。

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/add.png}
    \caption{Add Reader Info}
    \label{fig:add}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/add_suc.png}
    \caption{Add Reader Info Success}
    \label{fig:add_suc}
\end{figure}

\subsection{能够修改读者信息，修改后能够在窗体中实时更新}
测试修改读者信息功能，修改后能够在窗体中实时更新（图\ref{fig:modify}到图\ref{fig:modify_suc}）。

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/modify.png}
    \caption{Modify Reader Info}
    \label{fig:modify}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/modify_suc.png}
    \caption{Modify Reader Info Success}
    \label{fig:modify_suc}
\end{figure}

\subsection{能够删除读者信息，删除后能够在窗体中实时更新}
测试删除读者信息功能，删除后能够在窗体中实时更新（图\ref{fig:delete}到图\ref{fig:delete_suc}）。

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/delete.png}
    \caption{Delete Reader Info}
    \label{fig:delete}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/delete_suc.png}
    \caption{Delete Reader Info Success}
    \label{fig:delete_suc}
\end{figure}

\section{图书借阅管理}

\subsection{能够为读者办理借阅图书，并且使用事务实现业务}

图\ref{fig:borrow}为借阅图书界面，能够为读者办理借阅图书。代码实现见图\ref{fig:transaction}。

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/borrow.png}
    \caption{Borrow Book}
    \label{fig:borrow}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/transaction.png}
    \caption{Code of Transaction}
    \label{fig:transaction}
\end{figure}

\subsection{实现借阅图书业务后，在数据库留下借阅记录}
图\ref{fig:records}为借阅图书后，数据库中的借阅记录。

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/records.png}
    \caption{Records of Borrowing Books}
    \label{fig:records}
\end{figure}

\subsection{更新图书馆藏信息}
图书馆藏信息表中的 status 字段记录了图书当前状态，借阅图书后，该字段会自动更新，由 not lent 变为 lent（图\ref{fig:collection}到图\ref{fig:collection_after}）。

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/collection.png}
    \caption{Collection of Books before Borrowing}
    \label{fig:collection}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/collection_after.png}
    \caption{Collection of Books after Borrowing}
    \label{fig:collection_after}
\end{figure}

\subsection{更新图书基本信息}
图书基本信息表中的 quantity 字段记录了图书当前馆藏数量，借阅图书后，该字段会自动更新，由11变为10（图\ref{fig:basic}到图\ref{fig:basic_after}）。

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/basic.png}
    \caption{Basic Info of Books before Borrowing}
    \label{fig:basic}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/basic_after.png}
    \caption{Basic Info of Books after Borrowing}
    \label{fig:basic_after}
\end{figure}

\subsection{更新读者信息表中的已借数量}
读者信息表中的 currently 字段记录了读者当前已借数量，借阅图书后，该字段会自动更新，由0变为1（图\ref{fig:reader}到图\ref{fig:reader_after}）。

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/reader.png}
    \caption{Reader Info before Borrowing}
    \label{fig:reader}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{../pic/reader_after.png}
    \caption{Reader Info after Borrowing}
    \label{fig:reader_after}
\end{figure}

\end{document}