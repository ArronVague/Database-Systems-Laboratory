# relation schema

## 初始关系模式

读者类别（**读者类别编号**，读者类别名称，可借册数，可借天数）

读者信息（**读者编号**，_读者类别编号_，姓名，性别，联系电话，登记日期，有效期至，现借图书数，累计借书数，是否挂失，违规次数，备注）

图书基本信息（**ISBN**，书名，类型，作者，_出版社编号_，版次，出版日期，价格，简介，现在库数量，库存总量）

出版社信息（**出版社编号**，出版社名称，联系人，联系电话，传真，地址）

图书馆藏信息（**图书编号**，_ISBN_，入库时间，图书状态）

管理员信息（**管理员工号**，姓名，性别，联系电话，岗位）

图书借阅记录（**借阅记录编号**，_图书馆藏编号_，_读者编号_，借阅时间，应还时间，续借次数，归还时间，是否超期，是否丢失，_借阅业务管理员工号_，_归还业务管理员工号_）

超期罚款（**罚款编号**，_借阅记录编号_，罚款金额，是否交款，罚款日期，_管理员工号_，备注）

图书丢失（**丢失编号**，_借阅记录编号_，罚款金额，是否交款，操作时间，_管理员工号_，备注）

## 优化关系模式

### 第一范式

> 每个表应该有唯一标识每一行的主键。（原子性）

除了图书基本信息表，使用ISBN作为主键。图书基本信息表存的是唯一ISBN表示的书，尽管有很多本，但ISBN唯一指向一本书，如《软件工程导论》。

其他的表都额外添加了主键，因此一定满足第一范式。

关系模式无需修改。

### 第二范式

> 在复合主键的情况下，非主键部分不应该依赖于部分主键。（消除部分依赖）

每张表的主键只包含一个属性，因此一定满足第二范式。

关系模式无需修改。

### 第三范式

> 非主键之间不应该有依赖关系。（消除传递依赖）

读者类别（**读者类别编号** ，读者类别名称，可借册数，可借天数）

以该表为例。该表中读者类别名称其实也可以作为主键，但为了规划另外定义了**读者类别编号**，这里我们无视`读者类别编号 -> 读者类别名称 -> 可借册数`这类传递依赖。其他的表都是。

所有表没有传递依赖（暂时没看出来），满足第三范式。

关系模式无需修改。